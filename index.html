<!DOCTYPE html>
<html>

<head>
   <title>Shopping Cart</title>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" />
   <link href="style.css" rel="stylesheet">
</head>

<body>

   <section>
      <div class="container">
         <div class="cart">
            <div id="parentNode" class="col-md-12 col-lg-10 mx-auto">
               <div id="cart-1" class="cart-item" >
                  <div class="row">
                     <div class="col-md-7 center-item">
                        <img src="images/product-1.png" alt="">
                        <h5>iPhone 11 128GB Black</h5>
                     </div>

                     <div class="col-md-5 center-item">
                        <div class="input-group number-spinner">
                           <button id="decreaser" class="btn btn-default"><i class="fas fa-minus"></i></button>
                           <input id="number" type="text" class="form-control text-center" value="0">
                           <button id="increaser" class="btn btn-default"><i class="fas fa-plus"></i></button>
                        </div>
                        <h5>$<span id="phone-total">0</span></h5>
                        <img id="remove-1" src="images/remove.png" alt="" class="remove-item">
                     </div>
                  </div>
               </div>

               <div id="cart-2" class="cart-item">
                  <div class="row">
                     <div class="col-md-7 center-item mx-auto">
                        <img src="images/product-2.png" alt="">
                        <h5>iPhone 11 Silicone Case - Black</h5>
                     </div>
                     <div class="col-md-5 center-item">
                        <div class="input-group number-spinner">
                           <button id="decreaser-2" class="btn btn-default"><i class="fas fa-minus"></i></button>
                           <input id="number-2" type="text" class="form-control text-center" value="0">
                           <button id="increaser-2" class="btn btn-default"><i class="fas fa-plus"></i></button>

                        </div>
                        <h5>$<span id="phone-total-2">0</span></h5>
                        <img id="remove-2" src="images/remove.png" alt="" class="remove-item">
                     </div>
                  </div>
               </div>

               <div class="cart-item">
                  <div class="row">

                     <div class="col-md-8">
                        <h5>Subtotal: </h5>
                        <h5>Tax:</h5>
                        <h5>Total:</h5>
                     </div>

                     <div class="col-md-4 status">
                        <h5>$<span id="subtotal">0</span></h5>
                        <h5>$<span id="tax">0</span></h5>
                        <h5>$<span id="total">0</span></h5>
                     </div>
                  </div>
               </div>
               <div class="col-md-12 pt-4 pb-4">
                  <button type="button" class="btn btn-success check-out">Check Out</button>
               </div>
            </div>
         </div>
      </div>
   </section>



   <script>
      //main script

      //removing section
     const remove1 = document.getElementById("remove-1");
     const remove2 = document.getElementById("remove-2");

     const parentNode = document.getElementById("parentNode");
     const cart1= document.getElementById("cart-1");
     const cart2= document.getElementById("cart-2");

     remove1.addEventListener("click",function(){
      cart1.style.display = "none";
      updating();
     })

     remove2.addEventListener("click",function(){
      cart2.style.display = "none";
      parentNode.removeChild(cart2);
      updating();
     })
     


      //with function 
         //for increasing
      increaser("increaser","number",1219,"phone-total");
      increaser("increaser-2","number-2", 59,"phone-total-2");

      function increaser(incr,numb,price,totalIndividual){
         const increaser = document.getElementById(incr);
      increaser.addEventListener("click", function(){


         
         const currentValue = parseInt(document.getElementById(numb).value) ;
         const updatedValue = currentValue + 1;
         document.getElementById(numb).value = updatedValue;

         const firstTotal = document.getElementById(totalIndividual).innerText;
         var firstTotalVal = parseFloat(firstTotal);
         firstTotalVal = firstTotalVal+ price; 
         document.getElementById(totalIndividual).innerText = firstTotalVal;
         updating();
      });

      }

      //for decreasing
      decreaser("decreaser","number",1219,"phone-total");
      decreaser("decreaser-2","number-2",59,"phone-total-2");

      function decreaser(decr,numb,price,totalIndividual){
      const decreaser = document.getElementById(decr);
      decreaser.addEventListener("click", function(){
         const currentValue = parseInt(document.getElementById(numb).value) ;
         const updatedValue = currentValue -1;
         const newValue = Math.max(updatedValue,0);
         document.getElementById(numb).value = newValue;

         const firstTotal = document.getElementById(totalIndividual).innerText;
         var firstTotalVal = parseFloat(firstTotal);
         firstTotalVal = firstTotalVal-price; 
         firstTotalVal = Math.max(firstTotalVal,0);
         document.getElementById(totalIndividual).innerText = firstTotalVal;
         updating();
      })}


      //updating subtotal
      function updating(){
         var subtotal = document.getElementById("subtotal");
         var subtotalValue = parseInt(subtotal);
         
         const phoneTot1 = document.getElementById("phone-total").innerText;
         const phoneTot1Value = parseFloat(phoneTot1);
      
         const phoneTot2 = document.getElementById("phone-total-2").innerText;
         const phoneTot2Value = parseFloat(phoneTot2);
       
         subtotalValue = phoneTot1Value + phoneTot2Value ;
         // var SubtotalInString = SubtotalInNumb.toString();
             subtotal.innerText = subtotalValue;

        const tax = document.getElementById("tax").innerText;
       var taxValue = parseInt(tax);
       //calculating 15% text
       taxValue = parseInt(subtotalValue * 0.15)
       document.getElementById("tax").innerText = taxValue ;

     
      var total = document.getElementById("total");
      var totalValue = parseInt(total);

      const subtot = document.getElementById("subtotal").innerText;
      subtotalValue = parseInt(subtot);

      const taxt = document.getElementById("tax").innerText;
      taxValue = parseInt(taxt);


         totalValue = subtotalValue + taxValue;
         total.innerText = totalValue;
         
      }


     



   </script>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
   integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
   crossorigin="anonymous"></script>
</body>

</html>